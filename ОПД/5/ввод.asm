org 0x0000
LOP: WORD 0x0003
VIVOD: WORD 0x008F
CURRENT_VIVOD: WORD 0x008F
NUM: WORD 0x0000
NEWNUM: WORD 0x0000
INPUT: IN 0x1D
AND #0x40
BEQ INPUT
IN 0x1C
ST $NEWNUM
CALL $SDVIG
LD $LOP
DEC
ST $LOP
BEQ INPUT1
JUMP INPUT
INPUT1:IN 3
AND #0x40
BEQ INPUT1
LD $NUM
PUSH
CALL $GET_LAST_NUM
SWAP
POP
ST (CURRENT_VIVOD)
OUTP: IN 0x15
    AND #0x40
    BEQ OUTP
    LD (CURRENT_VIVOD)
    OUT 0x14
    JUMP $INPUT1
HLT


SDVIG: CLA 
    COUNT: WORD 0x0000
    TEMP: WORD 0x0000
    LD #9
    ST $COUNT
    LD $NUM
    ST $TEMP
    ADDING:
    LD $NUM
    ADD $TEMP
    ST $NUM
    LD $COUNT
    DEC
    ST $COUNT
    BEQ E
    JUMP $ADDING
    E: LD $NUM
    ADD $NEWNUM
    ST $NUM
    RET

GET_LAST_NUM:; LAST,RET,NUM
    CLA
    PUSH
    LD &2
    CYCLE_GET_LAST_NUM: BMI RETURN_GET_LAST_NUM
    ST &0
    SUB #10
    JUMP $CYCLE_GET_LAST_NUM
    RETURN_GET_LAST_NUM: LD &0
    SWAP
    POP
    RET